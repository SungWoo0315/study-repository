# 2021년 10월 18일 [103일차]

## # 오전수업
----
### `09:30~`

10:00 이력서 초본 제출    

#

리액트 진도 이어서,   

게시판 상세보기 화면으로 들어갈수 있도록 구현 예정.   

----
### `10:30~`

`props` 부분은 부모쪽에서 던져준 데이터가 들어오는것이다.  

`BoardList.js` 에서,  

```js
    const goContentForm = (b_no) => {
        alert(b_no);
        // props.history.push('/board/BoardContentForm')
        // 다른페이지로 값 넘기는 테스트 
        props.history.push({
            pathname:'/board/BoardContentForm'
            ,state:{b_no:b_no}
        });
    }
```

#

`BoardContentForm.js` 에서,  

```js
  b_no 번호 : {props.location.state.b_no}  
```
> `BoardList.js` 에서, 보낸 b_no 값을 받아오기.  

#

`BoardList.js` 에서, 주석달기.   

```js
    const goContentForm = (b_no) => {

        // /board/boardContentForm 이라는 URL 주소로 이동하기
        // 이동 시 가져갈 데이터는 매개변수로 들어온 클릭한 행의 게시판 고유번호 이다.  
        alert(b_no);
        // props.history.push('/board/BoardContentForm')
        // 다른페이지로 값 넘기는 테스트 
        props.history.push({

            // URL 주소 설정.    
            pathname:'/board/BoardContentForm'
            // 이동 시 가져갈 데이터 설정.   
            // ,state:b_no
            ,state:{b_no:b_no}
        
        });
        /*
        // -----------------------------------------------
        // URL 주소로 이동하면서 데이터 가져가는 코딩 형식
        // -----------------------------------------------
        props.history.push({

            pathname:'URL 주소 설정'
            ,state: 이동 시 가져갈 사용정 객체  
        
        });
        // -----------------------------------------------
        // URL 주소로 이동한 후 데이터를 꺼낼 때 형식
        // -----------------------------------------------
            {props.location.state.b_no}  
            {props.location.state.사용정객체의속성변수명}  
        */
    }
```

#

스프링 `BoardController.java` 부분에서,  

`"/boardContentForm.do"` 쪽, 수정.   

```java
	//mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm
	// /boardContentForm.do 접속 시 호출되는 메소드 선언
	//mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm
	@RequestMapping( 
		value="/boardContentForm.do" 
		,method=RequestMethod.POST
		,produces="application/json;charset=UTF-8"
	)
	@ResponseBody
	public Map goBoardContentForm( 
			// @RequestParam(value="b_no") int b_no	
			@RequestParam BoardDTO boardDTO
	)
	
	{
		//*******************************************
		// [BoardServiceImpl 객체]의 getBoard 메소드 호출로 [1개의 게시판 글]을 BoardDTO 객체에 담아오기
		//*******************************************
		// BoardDTO boardDTO = this.boardService.getBoard(b_no);
		BoardDTO boardDTO2 = this.boardService.getBoard(boardDTO.getB_no());

		//*******************************************
		// [ModelAndView 객체] 생성하기
		// [ModelAndView 객체]에 [호출 JSP 페이지명]을 저장하기
		//*******************************************
		// ModelAndView mav = new ModelAndView( );
		// mav.setViewName( path + "boardContentForm.jsp");
		// mav.addObject("boardDTO", boardDTO);
		Map map = new HashMap();
		map.put("boardDTO", boardDTO2);

		//*******************************************
		// [ModelAndView 객체] 리턴하기
		//*******************************************
		// return mav;
		return map;
	}
```
> 매개변수를 DTO 로 받아버리면 편하다.  
> 자료형 살릴수 있다.   

#

다시 리액트로 와서,   
`BoardContentForm.js` 에서,  

DB 연동 코드    

```js
    // mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm
    // DB 에서 1개의 게시판 데이터를 가져올 코딩이 내포된 화살표 함수를 저장할 변수 선언하기  
    // mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm
    const getBoard = () => {
        axios.post(
            'http://localhost:8081/naver/boardContentForm.do'
            ,{b_no:b_no}
        ).then(
            responseJson => {

                alert( responseJson.data.boardDTO.subject + "\n" + responseJson.data.boardDTO.content )
                setBoard( {...board, ...responseJson.data.boardDTO} )
                // alert(responseJson.data.boardListAllCnt)
            }
        ).catch(
            (error) => {
                alert("서버 연동 실패! : " + error.message);
            }
        )
    }
```
> 리턴안에서 화면 ui 다 호출되고 DB 연동 결과물이 반영되어야 한다.  

----
### `11:30~`








----
### `12:30~`








----
### `13:20~`

  - 점심시간.

---
---

## # 오후수업

---
### `14:30~`










---
### `15:30~`









----
### `16:30~`








----
### `17:30~`








----
### `18:30~`

내일은 넥사크로 설치 및 환경설정 할 예정.  
