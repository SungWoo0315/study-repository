# 2021년 8월 6일 [60일차]

## # 오전수업
----
### `09:30~`

비동기방식 웹서버 전송방식 배울 예정.  



검색조건.

결국엔 학점 체크박스와 검색을 동시에.  

ex) A학점체크하고, j 가들어가고 and(or) 하고, 다른키워드까지 검색되도록 하는 조건검색이 최종.  

#

## # `jquery_test_15.html` 예제 파일 풀이.  

`jquery_test_15.html` 파일 보면서 읽기.  

> 클래스값이 없어도 잡고 들어갈 수 있다.  

> 모든 입력양식은 `from 태그`가 있어야 한다.  DB 연동 위해.  

> `length` 말고, `size()` 써도 된다.  

> 검색조건이 없으면 결과값도 없어야 한다.  or 검색할것이 없으므로 화면에 변화가 일어나지 않고 다 보여줘야 한다.  

> 다량의 데이터 배열 사용.    

----
### `10:30~`

> 체크된 것의 value 값만 DB로 간다.  

`is()`

```javascript
  if( thisObj.prop("checked") ){
  // if( thisObj.filter(":checked").length==1 )   // 윗줄 코드와 같은 작동을한다.  
  // if( thisObj.is("checked") )                  // 윗줄 코드와 같은 작동을한다.
```

> `$("선택자1").is("선택자2")` "선택자1" 이 가리키는것과 "선택자2" 가 가리키는 값이 같으면 true 리턴.   

> ![is("선택자")설명](https://github.com/SungWoo0315/study-repository/blob/main/image-save/20210806%201044_JQuery_is()_.png)     

> `not( "선택자" )` 은 true, false 리턴이 아니라, "선택자"와 반대되는 것을 리턴. 반전 개념.  

> `is("선택자2")` 와 `not( "선택자" )` 는 다른것이다.  


> 문자열 앞뒤에 공백이 있을 수 있으므로 앞뒤 공백 제거 후 재저장 해주어야 한다.  

> 숫자 문자를 숫자로 변경하여 비교해주는것이 정석이다.  

> Array 객체 뒤질땐 반복문 써야 한다.  


----
### `11:30~`

> 변수 추적을 해야 한다.    

> 변수 `thisTrObj` 는 `each` 가 잡는 tr 태그의 메위주.  

> `each()` : JQuery 객체가 관리하는 태그 하나하나를 반복하는것.  

#

## # `jquery_test_15 - 정답2.html` 에 효율적인 코딩 수정.

> for 반복문쪽, 효율적 코딩 수정.  

> 반복되는 코드 `thisTrObj.show(); break;` 를 제거하고,   
> `var flag = false;` 코드 작성 후,  
> `if( flag ){ thisTrObj.show(); }` 코드로 `flag` 값을 이용하여 true false 적용.   

> `flag 값`을 주고, 하단에서 코드(`if( flag ){ thisTrObj.show(); }`) 수행 

> `jquery_test_15.html` 과 비교해보면서 어떻게 수정하는지 비교.  

#

## # `jquery_test_15 - 정답3.html` 에 다른 효율적인 코딩 수정.

```javascript
  // -------------------------
  // hakjum 변수 선언하고 평균에서 학점 구해 저장하기
  // -------------------------
  var hakjum = "A";
  if( avg>=80 && avg<90 ) {hakjum = "B";}
  else if( avg>=70 && avg<80 ) {hakjum = "C";}
  else if( avg>=60 && avg<70 ) {hakjum = "B";}
  else if( avg>=0 && avg<60 ) {hakjum = "F";}
  // -------------------------
  // i번째 tr 내부의 평균이 Array 객체에 저장된
  // 학점에 맞는 평균이면 false 에 true 저장하고 반복문을 중단하기
  // -------------------------
  var flag = false;
  for( var j=0; j<hakjums.length; j++){
    // 만약에 j 번째 배열변수안의 값이 hakjum 변수안의 값과 같으면
    if( hakjums[j]==hakjum ){flag = true; break;}
  }
  // -------------------------
  // flag에 true 가 있으면 i 번째 tr 보이기
  // -------------------------
  if(flag){thisTrObj.show();}
```

> `jquery_test_15.html` 와 `jquery_test_15 - 정답2.html` 를 비교해보면서 어떻게 수정하는지 비교.    

----
### `12:30~`

- `jquery_test_15 - 정답3.html` 에서 모두검색 버튼 구현 코딩.  

  ```javascript
    // **********************************************
    // class=allSearch 가진 태그에 click 이벤트가 일어나면
    // 체크를 모두 풀고 모든행을 보이는 코딩을 실행하게 설정.
    // **********************************************
    $(".allSearch").bind("click", function(){
        // 학점 체크를 모두 풀기
        $("[name=hakjum]").prop("checked", false);

        // 검색 대상이 되는 모든 행을 보이기.
        $(".sungjuk tbody tr").show();

    });
  ```

----
### `13:20~`

  - 점심시간.

---
---

## # 오후수업

---
### `14:30~`

- `jquery_test_15 - 정답3.html` 에서 총개수 검색개수, 열추가 구현 코딩.  


  검색된 개수 출력되게 하고,   

  검색결과 왼쪽에 번호 열 추가하기.(역순 일련번호)   

  열 추가하는 전용함수 만들어서 호출해서 열 추가하기  

  1열을 다 넣어주고, 보이는 것에만 대입해서 보이게 하기. `:visible` 활용

  `+`추가로,

  될수 있으면 각 열 정렬 가능하도록 헤더 정렬 구현.  
  될수 있으면 검색버튼 안누르고 체크박스만 누르고 검색되도록.  

---
### `15:30~`

- 총개수 보여주는 함수를 만들어서 호출    

  ```javascript
    // ***********************************************
    // class=count 가진 태그안에 검색결과물, 
    // 즉, 화면에 보이는 tr 태그의 총개수 삽입하는 함수선언
    // ***********************************************
    function inputSearchCnt(){
        $(".count").text($(".sungjuk tbody tr:visible").length + "개 입니다.")
    }         
  ```

----
### `16:30~`

- 1열 삽입하고 일련번호 부여

  ```javascript
    // ***********************************************
    // 검색결과물의 table 태그에 일련번호가 있는 새로운 1열을 삽입하기.
    // 그런데 이미, 있다면 화면에 보이는 행의 일련번호를 새로운 일련번호로 수정하기. 
    // ***********************************************
    function inputFirstColumn( tableObj ){
        // ----------------------------------------
        // 검색 대상인 모든 tr 태그를 관리하는 JQuery 객체 구해 변수 trsObj에 저장하기
        // ----------------------------------------
        var trsObj = tableObj.find("tr");
        // ----------------------------------------
        // 검색 대상인 모든 tr 태그 중 화면에 보이는
        // tr 를 관리하는 JQuery 객체 구해 변수 visible_trsObj 에 저장하기
        // ----------------------------------------
        var visible_trsObj = trsObj.filter(":visible");
        // ----------------------------------------
        // 화면에 보이는 tr 의 개수 구해 변수 visibleTrCnt 에 저장하기
        // ----------------------------------------
        var visibleTrCnt = visible_trsObj.length-1;     // 첫번째 tr 때문에 -1 해준다.  
        // ----------------------------------------
        // table 태그 안의 첫 tr 안의 1열에 "번호" 컬럼이 있으면 flag 변수에 true 저장하기.  
        // ----------------------------------------
        var flag = false;
        var text = trsObj.first().find("th:eq(0)").text();
        text = $.trim(text);
        if( text=="번호" ) { flag = true; }
        // ----------------------------------------
        // flag 변수에 true 가 저장되어 있으면, 즉, table 태그의 1행 1열에 "번호" 컬럼이 있으면
        // ----------------------------------------
        if( flag ){
            // 보이는 tr 태그 안의 번호 컬럼 열에 새로운 역순 일련번호를 구해 덮어쓰기.
            visible_trsObj.each(function(i){
                if( i>0 ){

                    $(this).find("td:eq(0)").text( visibleTrCnt-- );


                }
            });
        }
        // ----------------------------------------
        // flag 변수에 false 가 저장되어 있으면, 즉, table 태그의 1행 1열에 "번호" 컬럼이 없으면
        // 맨처음 없을때 작동한다.  
        // ----------------------------------------
        else{
            // 모든 tr 태그 안에 새로운 1열을 삽입하기.  
            trsObj.each(function(i){
                var thisTrObj = $(this);
                if( i==0 ){
                    thisTrObj.prepend( "<th>번호" )
                }
                else{
                    thisTrObj.prepend( "<td>" + (visibleTrCnt--) )
                }
            });
        }
    }
  ```
> 이렇게 열이 추가되면 `avg` 변수에서 평균 열을 골라내는 열 번호가 `eq(2)` 에서 `eq(3)` 이 바뀐다. 주의하기!!   


----
### `17:30~`








----
### `18:30~`


다음주 JSP 나감.

오라클서버.  

```

맥 유저. 

버츄어박스. 사용하여 윈도우10 설치.  

vm웨어 설치하여 윈도우 10 설치  
vmplayer 

```

