# 2021년 8월 30일 [74일차]

## # 오전수업
----
### `09:30~`

<지난주>   

로그인,    

리스트,    

상세보기,    

수정/삭제,    
> 수정, 삭제 전에 지워진 글에 대한 대비.  
> 암호 일치 확인.  

오늘은 댓글작업하기.    
> 새글쓰기와 비슷함.  

검색빼고 완성이 된다.   

#

### # 댓글쓰기 기능 구현.  

`boardContentForm.jsp` 에서 코딩.  

`goBoardRegFrom()` 함수 만들기.  

```javascript
// mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm
// 게시판 댓글 화면으로 이동하는 함수 선언
// mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm
function goBoardRegFrom(){

    // alert("댓글쓰기 확인"); // 테스트용. 버튼 작동 확인.  
    
    // -----------------------------------------
    // name=boardRegForm 을 가진 form 태그의 action 값을 URL로 서버에 접속하라
    // -----------------------------------------
    document.boardRegForm.submit();


    
}


// 맨 아래쪽 이동해서 form 태그 추가.  


<!-- ****************************************************** -->
<!-- [게시판 댓글쓰기] 화면으로 이동하는 form 태그 선언 -->
<!-- ****************************************************** -->
<form name="boardRegForm" method="POST" action="/boardRegForm.do">
    <input type="hidden" name="b_no" value="<%=b_no%>">
</form>


```
> 게시판 댓글 화면으로 이동하는 함수    
> 작성된 페이지가 댓글로 들어가야 한다.    

> 댓글화면 이동방법 두가지,    

> `location.relpace("/xxx.do")`    
> 이렇게 이동하면 데이터를 갖고 이동하기 힘들다.    
> 방법은 있다. (get 방식)   
> `location.relpace("/xxx.do?a=b&c=d")`  
> `?` 뒤에 파라미터명과 파라미터 값을 붙여주면 된다.  
> 파라미터명과 파라미터값 보안 때문에 위험하다.  
> ![get방식이동](https://github.com/SungWoo0315/study-repository/blob/main/image-save/20210830%200951_get%EB%B0%A9%EC%8B%9D_.png)     

> form 태그 입력 양식을 POST 방식으로 보내는법,    
> `document.폼태그name값.submit();`    

> 댓글쓰기도 `boardRegForm.do` 를 활용한다.  
> 새글쓰기와 다른점은, 
> PK 번호를 들고 간다는것이다.  
> 새글쓰기는 PK 번호 활용 안함.  

#


`BoardController` 에서,     
`"/boardRegForm.do"` 찾고, 이어서 코딩.  

댓글페이지로 이동하게 하기,    
부모글 PK 번호 활용.    

```java
// ---------------------------------------------------------------
// 파라미터명이 b_no 인 파라미터값을 받아오는 매개변수 b_no 선언하기
// ---------------------------------------------------------------
@RequestParam(value = "b_no", required = false, defaultValue = "0") int b_no 



// ------------ 아래 방법도 있다.  
...

HttpServletRequest request

){

String b_no = request.getParameter("b_no");
    if( b_no == null){

    }
    else{

    }

...

```
> `@RequestParam(value = "b_no") int b_no ` 추가.  
> 이 코드 때문에 새글쓰기가 에러가 난다.  
> b_no 가 무조건 있어야 진행이 된다.  

> 해결방법1.    
> `HttpServletRequest request` 하고,  
> `String b_no = request.getParameter("b_no");` 로 꺼내주고, 조건문으로 null 값 혹은 PK값 들어왔을때를 조건 주면 된다.  

> 해결방법2.     
> `@RequestParam(value = "b_no", required = false, defaultValue = "0") int b_no `  로 해결.  
> `RequestParam` 은 필수요소인데, 만약 false 라면,   
> 디폴트값으로 0을 주는 코딩.  

#

----
### `10:30~`








----
### `11:30~`








----
### `12:30~`








----
### `13:20~`

  - 점심시간.

---
---

## # 오후수업

---
### `14:30~`










---
### `15:30~`









----
### `16:30~`








----
### `17:30~`








----
### `18:30~`

9월 3일,  

이번주 금요일 휴강.    

#

게시판 소스 완성하면,    

교재로 돌아가서 소스 분석들어감.    







