# 2021년 7월 20일 [48일차]

## # 오전수업
----
### `09:30~`

<복습>  

`common_func.js` 공용함수.    

`common_data.js` 메시지 등 데이터    

설명할땐  
정의,     
부연설명,       
예시,    

- JSON 은 자바의 HashMap과 유사하다.  (입)

  ```java

  <참고> 자스에서 JSON 은 자바의 HashMap 객체와 흡사하다.

  HashMap map = new HashMap();
  map.put( "s_no", "1" );
  map.put( "s_name", "오세황" );
  map.put( "jumin_num", "001225-3234321" );

  ```

  > DB 연동할 때 JSP에서 한행의 데이터를 HashMap에 저장.  

추후에, 스프링부트 프레임워크 사용.  

#

- `boardList.html` 에서 `getTodayWeek()` 함수 테스트 방법.  
  
  ```javascript

    var week = getTodayWeek(); 
  // week = "금요일";		// 개발 중 테스트 할땐 이렇게 강제로 값을 넣어준다.  
    week = "수요일";		// 개발 중 테스트 할땐 이렇게 강제로 값을 넣어준다.  
  // week = "목요일";		// 개발 중 테스트 할땐 이렇게 강제로 값을 넣어준다.  
  
  ```

JSON은 안에있는 키값을 알아야 쓸 수 있다. 반복문을 쓰기 어렵다.   
JSON은 데이터가 무엇인지 성분을 알기 쉽다.  

Array 안에 데이터는 반복문 사용할 수 있는것이 장점이다.       
단점은, 각 데이터가 무얼 의미하는지 모른다.    

Array 2차원 배열   

- `common_data.js`에서 2차원배열 작성.

  ```javascript

  //------------------------------------------------------------------------
  // JSON 선언.
  //------------------------------------------------------------------------
  var scheduleMsg = [
    ["2021-07-20" , "7월 20일 오늘은 36도까지 올라갑니다. 주의요망!"]
    ,["2021-07-23" , "7월 23일 휴강일 입니다."]
    ,["2021-08-13" , "8월 13일 휴강일 입니다."]
    ,["2021-08-16" , "8월 16일 휴강일 입니다."]
    ,["2021-11-03" , "11월 03일 창립기념일 입니다."]
  ]

  ```

```
<Tip>
자바 공부할때 컬렉션쪽 공부하는것이 좋다.  
```

----
### `10:30~`

#### # `common_data.js` 파일 안의 scheduleMsg 변수의 2차원 Array 객체 안을 검색

- 2차원 배열 설명 이미지

  ![2차원배열](https://github.com/SungWoo0315/study-repository/blob/main/image-save/20210720%201035_Array_2%EC%B0%A8%EC%9B%90%EB%B0%B0%EC%97%B4_.png)    


```javascript

function getScheduleMsg(){
  // common_data.js 파일 안의 scheduleMsg 변수의 2차원 Array 객체 안을 검색  
  
  /* 모든 날짜와 메세지 순서대로 출력. 주석처리.
  for( var i=0; i<scheduleMsg.length; i++){
    for( var j=0; j<scheduleMsg[i].length; j++ ){
      var data = scheduleMsg[i][j];
      alert(data)
    }
  }
  */
  // return "아휴 덥다.";

  // 누적시켜서 출력하는 방법.
  var tot_msg = "";
  for( var i=0; i<scheduleMsg.length; i++){
    var date = scheduleMsg[i][0];
    var msg = scheduleMsg[i][1];
    if( isToday(date) ){
      // alert( msg ) // 테스트 할때 보려고 alert 한것. 주석처리.
      tot_msg = tot_msg + msg; // tot_msg 안에 누적시키기. 
                    // 메모리 낭비가 심한 방법. 
                    // 특정날짜에 메시지가 2개 이상 나올 경우 누석시켜 다 나오게 하기.
    }
  }
  return tot_msg;
}

// 누적시켜서 출력하는 다른 방법. Array 사용해서 배열안에 누적시켜서 출력하기.  
function getScheduleMsg(){
  var arr = [];
  for( var i=0; i<scheduleMsg.length; i++){
    var date = scheduleMsg[i][0];
    var msg = scheduleMsg[i][1];
    if( isToday(date) ){
      // alert( msg ) // 테스트 할때 보려고 alert 한것. 주석처리.
      arr.push(msg); // arr 안에 누적시키기. 
              //특정날짜에 메시지가 2개 이상 나올 경우 누석시켜 다 나오게 하기.
    }
  }
  return arr.join(" ");	// arr 에 join 사용해서 배열 붙여서 출력하기
}

```
> 같은 함수이면 마지막에 작성된것이 적용된다.  


- `tot_msg` 누적시키는 이미지 설명.
  
  ![tot_msg누적](https://github.com/SungWoo0315/study-repository/blob/main/image-save/20210720%201150_tot_msg_%EB%B3%80%EC%88%98%20%EB%88%84%EC%A0%81_.png)    



#### # scheduleMsg 날짜별 메시지 출력을 오늘날짜와 비교해서 일치하면 출력하는 isToday() 공용함수 만들기.  

```javascript
//------------------------------------------------------------------------
// 
//------------------------------------------------------------------------
function isToday( dateStr ){
  try{
    var arr = dateStr.split("-");
    // ----------------------------------
    var year = arr[0];
    var month = arr[1];
    var date = arr[2];
    // ----------------------------------
    year = parseInt(year, 10);
    month = parseInt(month, 10);
    date = parseInt(date, 10);
    // ----------------------------------
    var today = new Date();
    var today_year = today.getFullYear();
    var today_month = today.getMonth()+1;
    var today_date = today.getDate();
    // ----------------------------------
    return year == today_year && month == today_month && date == today_date;
  }
  catch(e){
    alert("isToday 에서 에러발생!")
    return false;
  }
}
```

----
### `11:30~`

- `boardList.html` 하단에 출력하게 하기.  

  ```html
  
  <script>
    document.write(getScheduleMsg());
	</script>

  ```


```
<Tip>
javascript에서 에러가 나면 각 실행코드 줄에 alert 를 넣어준다.  
alert 가 뜨지 않는 부분이 에러나는 부분이다.  
```




----
### `12:30~`








----
### `13:20~`

  - 점심시간.

---
---

## # 오후수업

---
### `14:30~`










---
### `15:30~`









----
### `16:30~`








----
### `17:30~`








----
### `18:30~`

이번주 금요일 휴강.  