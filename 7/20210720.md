# 2021년 7월 20일 [48일차]

## # 오전수업
----
### `09:30~`

<복습>  

`common_func.js` 공용함수.    

`common_data.js` 메시지 등 데이터    

설명할땐  
정의,     
부연설명,       
예시,    

- JSON 은 자바의 HashMap과 유사하다.  (입)

  ```java

  <참고> 자스에서 JSON 은 자바의 HashMap 객체와 흡사하다.

  HashMap map = new HashMap();
  map.put( "s_no", "1" );
  map.put( "s_name", "오세황" );
  map.put( "jumin_num", "001225-3234321" );

  ```

  > DB 연동할 때 JSP에서 한행의 데이터를 HashMap에 저장.  

추후에, 스프링부트 프레임워크 사용.  

#

- `boardList.html` 에서 `getTodayWeek()` 함수 테스트 방법.  
  
  ```javascript

    var week = getTodayWeek(); 
  // week = "금요일";		// 개발 중 테스트 할땐 이렇게 강제로 값을 넣어준다.  
    week = "수요일";		// 개발 중 테스트 할땐 이렇게 강제로 값을 넣어준다.  
  // week = "목요일";		// 개발 중 테스트 할땐 이렇게 강제로 값을 넣어준다.  
  
  ```

JSON은 안에있는 키값을 알아야 쓸 수 있다. 반복문을 쓰기 어렵다.   
JSON은 데이터가 무엇인지 성분을 알기 쉽다.  

Array 안에 데이터는 반복문 사용할 수 있는것이 장점이다.       
단점은, 각 데이터가 무얼 의미하는지 모른다.    

Array 2차원 배열   

- `common_data.js`에서 2차원배열 작성.

  ```javascript

  //------------------------------------------------------------------------
  // JSON 선언.
  //------------------------------------------------------------------------
  var scheduleMsg = [
    ["2021-07-20" , "7월 20일 오늘은 36도까지 올라갑니다. 주의요망!"]
    ,["2021-07-23" , "7월 23일 휴강일 입니다."]
    ,["2021-08-13" , "8월 13일 휴강일 입니다."]
    ,["2021-08-16" , "8월 16일 휴강일 입니다."]
    ,["2021-11-03" , "11월 03일 창립기념일 입니다."]
  ]

  ```

```
<Tip>
자바 공부할때 컬렉션쪽 공부하는것이 좋다.  
```

----
### `10:30~`

#### # `common_data.js` 파일 안의 scheduleMsg 변수의 2차원 Array 객체 안을 검색

- 2차원 배열 설명 이미지

  ![2차원배열](https://github.com/SungWoo0315/study-repository/blob/main/image-save/20210720%201035_Array_2%EC%B0%A8%EC%9B%90%EB%B0%B0%EC%97%B4_.png)    


```javascript

function getScheduleMsg(){
  // common_data.js 파일 안의 scheduleMsg 변수의 2차원 Array 객체 안을 검색  
  
  /* 모든 날짜와 메세지 순서대로 출력. 주석처리.
  for( var i=0; i<scheduleMsg.length; i++){
    for( var j=0; j<scheduleMsg[i].length; j++ ){
      var data = scheduleMsg[i][j];
      alert(data)
    }
  }
  */
  // return "아휴 덥다.";

  // 누적시켜서 출력하는 방법.
  var tot_msg = "";
  for( var i=0; i<scheduleMsg.length; i++){
    var date = scheduleMsg[i][0];
    var msg = scheduleMsg[i][1];
    if( isToday(date) ){
      // if( date == "2021-11-03" ){		// 테스트. 특정 날짜만 보고싶을때 이런식으로 한다. 주석처리.
      // alert( msg ) // 테스트 할때 보려고 alert 한것. 주석처리.
      tot_msg = tot_msg + msg; // tot_msg 안에 누적시키기. 
                    // 메모리 낭비가 심한 방법. 
                    // 특정날짜에 메시지가 2개 이상 나올 경우 누석시켜 다 나오게 하기.
    }
  }
  return tot_msg;
}

// 누적시켜서 출력하는 다른 방법. Array 사용해서 배열안에 누적시켜서 출력하기.  
function getScheduleMsg(){
  var arr = [];
  for( var i=0; i<scheduleMsg.length; i++){
    var date = scheduleMsg[i][0];
    var msg = scheduleMsg[i][1];
    if( isToday(date) ){
      // alert( msg ) // 테스트 할때 보려고 alert 한것. 주석처리.
      arr.push(msg); // arr 안에 누적시키기. 
              //특정날짜에 메시지가 2개 이상 나올 경우 누석시켜 다 나오게 하기.
    }
  }
  return arr.join(" <br> ");  // arr 에 join 사용해서 배열 붙여서 출력하기
                              // 중간에 <br>을 넣어주어 이어 붙인 사이에 줄바꿈을 해준다.
}

```
> 같은 함수이면 마지막에 작성된것이 적용된다.  


- `tot_msg` 누적시키는 이미지 설명.
  
  ![tot_msg누적](https://github.com/SungWoo0315/study-repository/blob/main/image-save/20210720%201150_tot_msg_%EB%B3%80%EC%88%98%20%EB%88%84%EC%A0%81_.png)    



#### # scheduleMsg 날짜별 메시지 출력을 오늘날짜와 비교해서 일치하면 출력하는 isToday() 공용함수 만들기.  

```javascript
//------------------------------------------------------------------------
// 매개변수로 들어온 날짜문자가 오늘날짜와 동일하면, true 리턴하는 함수. 아니면 false 리턴.
//------------------------------------------------------------------------
function isToday( dateStr ){
  try{
    var arr = dateStr.split("-");
    // ----------------------------------
    var year = arr[0];		year = year.trim();		// trim() 앞뒤 공백 제거.
    var month = arr[1];		month = month.trim();
    var date = arr[2];		date = date.trim();
    // ----------------------------------
    year = parseInt(year, 10);
    month = parseInt(month, 10);
    date = parseInt(date, 10);
    // ----------------------------------
    var today = new Date();
    var today_year = today.getFullYear();
    var today_month = today.getMonth()+1;
    var today_date = today.getDate();
    // ----------------------------------
    return year == today_year && month == today_month && date == today_date;
  }
  catch(e){
    alert("isToday 에서 에러발생!")
    return false;
  }
}
```

----
### `11:30~`

- `boardList.html` 하단에 출력하게 하기.  

  ```html
  
  <script>
    document.write(getScheduleMsg());
	</script>

  ```


```
<Tip>

javascript 에서 에러가 나면 각 실행코드 줄에 alert 를 넣어준다.  
alert 가 뜨지 않는 부분이 에러나는 부분이다.  

반복문에서 에러가 계속적으로 뜬다면 break; 를 주어 한번만 에러 뜨게 한다.
```

----
### `12:30~`

- `common_data.js`에서 작성한 함수에 주석달기  

  ```javascript
  //------------------------------------------------------------------------
	// 매개변수로 들어온 날짜문자가 오늘날짜와 동일하면, true 리턴하는 함수. 아니면 false 리턴.
	//------------------------------------------------------------------------
	function isToday( dateStr ){
		try{
			// ----------------------------------
			// 변수 arr 선언. dateStr 매개변수 안의 날짜 문자를 
			// "-" 기준으로 토막내어 Array 객체안에 담기.
			// ----------------------------------
			var arr = dateStr.split("-");
			// ----------------------------------
			// Array 객체 안의 배열변수 안의 데이터 꺼내어 year, month, date 변수에 저장하기.
			// String 객체의 trim 메소드 호출로 앞뒤 공백 제거하기.
			// ----------------------------------
			var year = arr[0];		year = year.trim();		// trim() 앞뒤 공백 제거.
			var month = arr[1];		month = month.trim();
			var date = arr[2];		date = date.trim();
			// ----------------------------------
			// parseInt 내장함수 호출하여 
			// year, month, date 변수 안의 숫자문자를 정수 숫자로 바꾸기
			// ----------------------------------
			year = parseInt(year, 10);
			month = parseInt(month, 10);
			date = parseInt(date, 10);
			// ----------------------------------
			// 변수 today 선언, 오늘 날짜를 관리하는 Date 객체 생성하고 메위주를 today에 저장하기
			// Date 객체의 getFullYear 메소드 호출로 년도 얻어 변수 today_year 에 저장하기.
			// Date 객체의 getMonth 메소드 호출로 월 얻어 변수 today_month 에 저장하기.
			// Date 객체의 getDate 메소드 호출로 일 얻어 변수 today_date 에 저장하기.
			// ----------------------------------
			var today = new Date();
			var today_year = today.getFullYear();
			var today_month = today.getMonth()+1;
			var today_date = today.getDate();
			// ----------------------------------
			// 매개변수로 들어온 년월일 이 오늘잘짜의 년월일과 동일하면 true 리턴하기.
			// 아니면 false 리턴하기
			// ----------------------------------
			return year == today_year && month == today_month && date == today_date;
		}
		catch(e){
			alert("isToday 함수 에서 에러발생!")
			return false;
		}
	}
  ```


#### # 공용함수에 매개변수로 들어온 문자에서 모든 공백을 제거하고 그 후 문자를 리턴하는 함수만들기.

`common_data.js`  

```javascript

//------------------------------------------------------------------------
// 매개변수로 들어온 문자에서 모든 공백을 제거하고 그 후 문자를 리턴하기.
//------------------------------------------------------------------------
function deleteBlank( str ){
  try{	
      var result = "";

      for (var i=0; i<str.length; i++){
        
        if(str.charAt(i) != " "){
          result = result + str.charAt(i);
        }
      }
      return result;
  }	
  catch(e){
      alert("deleteBlank 함수에서 에러발생!")
      return str;
  }
}

// // 방법2. 예외처리는 되어있지 않음.
// function deleteBlank( str ){
  
// 	return str.split(" ").join("");
// }

```

----
### `13:20~`

  - 점심시간.

---
---

## # 오후수업

---
### `14:30~`


- `common_data.js` 에서 `deleteBlank( )` 함수에 주석달기.  

  ```javascript
  //------------------------------------------------------------------------
	// 매개변수로 들어온 문자에서 모든 공백을 제거하고 그 후 문자를 리턴하기.
	//------------------------------------------------------------------------
	function deleteBlank( str ){
		try{	
			// str =undefined; 예외처리 작동하는지 테스트 하는 코드.

			// ----------------------------------------
			// 공백제거한 문자 저장할 변수 result 선언.
			// ----------------------------------------
			var result = "";
			// ----------------------------------------
			// 반복문 돌리면서 매개변수로 들어온 문자열 중 한개씩 접근해서 
			// 공백이 아닌 문자만 result 변수에 누적 시키기
			// ----------------------------------------
			for (var i=0; i<str.length; i++){
				// 만약 i 번째 문자가 공백이 아니면,
				// i번째 문자를 result 변수에 누적시키기.
				if(str.charAt(i) != " "){
					result = result + str.charAt(i);
				}
			}
			// ----------------------------------------
			// 변수 result 안의 데이터 리턴하기
			// ----------------------------------------
			return result;
		}	
		catch(e){
				alert("deleteBlank 함수에서 에러발생!")
				return str;
		}
	}
	
	// // 방법2. 예외처리는 되어있지 않음.
	// function deleteBlank( str ){
		
	// 	return str.split(" ").join("");
	// }

  ```





















---
### `15:30~`









----
### `16:30~`








----
### `17:30~`








----
### `18:30~`

이번주 금요일 휴강.  