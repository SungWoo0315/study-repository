# 2021년 6월 29일 [34일차]

## # 오전수업
----
### `09:30~`  

<오늘일정>     
오라클     
마무리 + 뷰     

복습을 해야 한다. 과목이 쌓이기 시작하면 힘들수 있다.  

<복습>

`rownum` => 모든 셀렉트문에 자동으로 붙여주는 `일련번호` 컬럼.  

- `rownum` `단점`
  `order by` 와 사용되면, order by 전에 붙어버려서 순서대로 나오지 않는다. 뒤엉켜서 나옴.  
  where절에 rownum 사용 시, rownum 자리에 1이 들어가 false가 나오면 검색이 안된다.   

`rownum`단점을 해결하기 위해 `inline view` 사용.    

```SQL  
-- rownum 패턴.
select * from ( select rownum RNUM, zxcvb.* from (
	원하는 정렬 select 문
) zxcvb where rownum<=마지막행번호 ) where RNUM>=시작행번호;

-- 패턴 2
select * from ( select rownum RNUM, zxcvb.* from (
	원하는 정렬 select 문
) zxcvb) where RNUM>=시작행번호 and RNUM<=마지막행번호 ;
```

#

### <142> 이번달 중에 토요일, 일요일을 제외한 날의 개수를 구하면? = 이번달 평일 수 구하기 -inline view

`sysdate` : 지금 이순간의 날짜 시간. 흘러가는 현재 시간.

```
Tip
엑셀로 코딩 반복작업 생성법
```

```SQL  
정석적인 방법은. 이번달 1일부터 말일까지 union으로 다 붙여서 걸러내야 한다.
<마무리해서 만들어보기>

select to_date(to_char(sysdate, 'YYYYMM')||'01','YYYYMMDD') from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'01','YYYYMMDD')+1 from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'01','YYYYMMDD')+2 from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'01','YYYYMMDD')+2 from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'02','YYYYMMDD')+3 from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'03','YYYYMMDD')+4 from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'04','YYYYMMDD')+5 from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'05','YYYYMMDD')+6 from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'06','YYYYMMDD')+7 from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'07','YYYYMMDD')+8 from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'08','YYYYMMDD')+9 from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'09','YYYYMMDD')+10 from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'10','YYYYMMDD')+11 from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'11','YYYYMMDD')+12 from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'12','YYYYMMDD')+13 from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'13','YYYYMMDD')+14 from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'14','YYYYMMDD')+15 from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'15','YYYYMMDD')+16 from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'16','YYYYMMDD')+17 from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'17','YYYYMMDD')+18 from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'18','YYYYMMDD')+19 from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'19','YYYYMMDD')+20 from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'20','YYYYMMDD')+21 from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'21','YYYYMMDD')+22 from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'22','YYYYMMDD')+23 from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'23','YYYYMMDD')+24 from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'24','YYYYMMDD')+25 from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'25','YYYYMMDD')+26 from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'26','YYYYMMDD')+27 from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'27','YYYYMMDD')+28 from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'28','YYYYMMDD')+29 from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'29','YYYYMMDD')+30 from dual
union select to_date(to_char(sysdate, 'YYYYMM')||'30','YYYYMMDD')+31 from dual



-- rownum 편법으로 풀이
select
	count(*)
from
	(                  
		select
			to_date(to_char(sysdate,'YYYY-MM')||'-01','YYYY-MM-DD')+RNUM-1 "XDAY"
		from
		(
			select rownum RNUM  from employee union select rownum+20 from employee)
			where RNUM<=to_number(to_char(last_day(sysdate),'dd')--이번달 말일을 숫자로 변경
		)
	) d
where
    to_char( d.xday, 'dy', 'nls_date_language = korean')!='토'
    and to_char( d.xday, 'dy', 'nls_date_language = korean')!='일'
    and XDAY <= last_day(sysdate)
```


### <143> VIEW(뷰) 가 뭡니까? (기. 입. 실) `*****`

●실시간으로 select 결과물을 테이블 처럼 가장해서 보여주는 [테이블]이다. [가상 테이블]이라고도 한다.  


```SQL  

```





----
### `10:30~`



###

```SQL  

```

###

```SQL  

```





----
### `11:30~`








----
### `12:30~`








----
### `13:20~`

  - 점심시간.

---
---

## # 오후수업

---
### `14:30~`










---
### `15:30~`









----
### `16:30~`








----
### `17:30~`








----
### `18:30~`
