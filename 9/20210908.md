# 2021년 9월 8일 [80일차]

## # 오전수업
----
### `09:30~`

<복습>    

JSP 스클릿 EL 로 모두 변경.           

JSTL C코어 태그.         

DB 연동 자바쪽, 쿼리, 화면 반영, 소스흐름 거의 다 끝남.    

#

- 효율적인 공부법.      

  소스 중심으로 공부하기.         

  게시판 소스 자기것으로 만들고,       

  ui 를 보고 게시판 소스로 만들어 내는것이 필요.       

  입력, 수정, 삭제 화면 만드는것이 필요.     

  입사하면 만들어내는 결과물이 중요. 

  현업은 이론을 공부하는곳이 아니라 결과물을 내는곳이다.    

#

<진도>    

각 페이지 CSS 입히는 작업.  

`loginForm.jsp` 에서,    

`common.jsp`      

JSP 기술의 한 종류인 [Include Directive]를 이용하여,    

common.jsp 파일 수입 소스를 삽입하면,      

그 안의 모든 코드들이 수입이 된다.    

로그인 페이지 인데 로그아웃 까지 수입된다.  

그러므로 `common.jsp` 파일 자체를 수입하지 않고,  

필요한 각 코드만 수입한다.    

최상단에 코드 넣으면 된다.  

```javascript
<!-- --------------------------------------------------------------------- -->
<!-- JQuery 라이브러리 수입하기 -->
<!-- --------------------------------------------------------------------- -->
<script src="/resources/jquery-1.11.0.min.js" type="text/javascript"></script>
<script src="/resources/common_func.js"></script>
<script src="/resources/common_data.js"></script>

<!-- --------------------------------------------------------------------- -->
<!-- CSS 파일 수입하기 -->
<!-- --------------------------------------------------------------------- -->
<link href="/resources/common.css" rel="stylesheet" type="text/css">
```

그 후,     

`table 태그`에, `class="tbcss2"` 넣기.        

#

`boardContentForm2.jsp` 에도,  

`boardRegForm2.jsp` 에도,  

`boardUpDelForm2.jsp` 에도,  

`table 태그`에, `class="tbcss2"` 넣기.        

#

<참고>  

검색 결과물이 나타나는 테이블은 세로선이 거의 없다.    

#

----
### `10:30~`

<나중에 추가할 기능>    

관리자 계정으로 로그인하면,    
(일반유저는 안됨)  
헤더만 클릭하면 등록일 기준으로 최신일 기준으로 정렬되게하는 기능.     

#

게시판 다 끝나면 CSS 주석 살필 예정.   

#

- 신입 미니 프로젝트 예시
  > ![신입 미니 프로젝트1]()
  > ![신입 미니 프로젝트2]()
  >   
  > 헤더 클릭 하면 정렬되게 하기.  

#

`loginForm.jsp` 에서,  진도 이어서.    

아이디 기억하기 기능 구현.   

기억하기 체크박스 클릭하고 로그인 하면,  

다음 로그인 때 자동으로 입력되는 기능 구현.  

쿠키값을 활용하여 기능 구현.  

보안성은 좋지 않다.  
(보안성에 대한 서약을 받고 기능구현 하는것이 좋다.)

상단에 테스트용,  
아이디 암호 자동입력 주석처리하기.     

```jsp
// 테스트용 자동입력
// $('.login_id').val("abc");
// $('.pwd').val("123");
```

테이블에 체크박스 추가 하기.  

```jsp
<table cellpadding=3>
    <tr align=center>
        <td>
            <input type="button" value="로그인" class="login">
            <input type="checkbox" name="is_login" value="yes">아이디/암호 기억
```
> 체크된 value 값만 전송 된다.  

#

`LoginController.java` 에서,  

`"/loginProc.do"` 부분,   

매개변수  

추가.  

```java
// ---------------------------------------
// "is_login" 라는 파라미터명에 해당하는 파라미터값을 꺼내서 매개변수 is_login 에 저장하고 들어온다.
// ---------------------------------------
,@RequestParam( value="is_login", required = false ) String is_login
```
> 안들어와도 에러나지 않게 `required = false` 추가.  
> 필수로 들어와야 하는것이 `required = true` 인데 디폴트로 들어간다.  

아이디 암호를 `HashMap` 에 저장한 이유?     
한곳에 담아 단일화 시켜야 한다.       
한곳에 저장해야 `mapper` 쪽에 넘기기 쉽다.    

아이디 로그인 DB연동 성공해서 일치하는 아이디 암호 리턴을 받고나서 조건이 추가된다.   

```java
// --------------------------------------------------
// 만약 login_idCnt q변수 안의 데이터가 1이면
// 즉, 만약 입력한 아이디 암호가 DB에 존재하면
// 즉, 만약 로그인이 성공했으면
// --------------------------------------------------
if( login_idCnt==1 ){
    
    // HttpSession 객체에 로그인 아이디 저장하기  
    // HttpSession 객체에 로그인 아이디를 저장하면 재 접속 했을 때 다시 꺼내 볼 수 있다.  
    // <참고> HttpSession 객체는 접속한 이우에도 제거되지 않고, 지정된 기간동안 살아 있는 객체이다.  
    // <참고> HttpServlet Request,  HttpServlet Response 객체는 접속할때 생성되고, 응답이후 삭제되는 객체이다.
    session.setAttribute( "login_id", login_id );

// xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
// 아래가 코드 추가 부분. 
    
    if(is_login==null){

    } 
    else{
        
    }

}
```
> 응답메시지에 아이디 암호를 쿠키값으로 저장해서 클라이언트에게 보내는것.  
> 쿠키 객체를 생성해야 한다.  

----
### `11:30~`








----
### `12:30~`








----
### `13:20~`

  - 점심시간.

---
---

## # 오후수업

---
### `14:30~`










---
### `15:30~`









----
### `16:30~`








----
### `17:30~`








----
### `18:30~`

추석 전에       

게시판 소스 및 기능 암기.        

과제.          

추석 5일동안 완성하기.         

다하면,    

자바 기본 공부.     

게시판 소스 분석.   






