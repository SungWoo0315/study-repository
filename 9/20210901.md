# 2021년 9월 1일 [76일차]

## # 오전수업
----
### `09:30~`

#

<복습>  

어제는 미완성 페이징 처리,  

`BoardSearchDTO` 에서,    

디폴트 선택페이지 번호 `selectPageNo` 는 `1`  

로그인 할때 시작할때 선택되어지도록 정해준것.  

한 화면에 보여지는 행의 개수 `rowCntPerPage` 는 `10행`   

#

<예정 진도>  

내가 원하는 페이지 번호 클릭해서,       

페이지 번호 가져오는 작업,         

완성할 예정.       

페이지 하단에 페이지번호 출력,    

클릭하면 그 페이지 열어주는 작업.     

#

`BoardController` 에서,   

`"/boardList.do"` 부분,  

마지막 페이지 번호.  

```java
/* 페이지 번호 사용할 예정
    if( totCnt > 0 ){
        int last_pageNo = totCnt/rowCntPerPage;
            if( totCnt%rowCntPerPage > 0 ){last_pageNo++;}

        int min_pageNo = (selectPageNo - 1)/pageNoCntPerPage * pageNoCntPerPage + 1;
        int max_pageNo = min_pageNo + pageNoCntPerPage - 1;
            if( max_pageNo > last_pageNo ) { max_pageNo = last_pageNo; }
    }
*/

// 위 코드를 사용해서 계산 한다.  
// 작성하는 코드는 아님, 로직 분석만.  


  System.out.println("컨트롤러 /boardList.do 진행... ");
  // 콘솔 확인 코드 밑에 작성.  

  int last_pageNo = 0;
  int min_pageNo = 0;
  int max_pageNo = 0;

  if( getBoardListCount > 0 ){

      int selectPageNo = boardSearchDTO.getSelectPageNo();
      int rowCntPerPage = boardSearchDTO.getRowCntPerPage();
      int pageNoCntPerPage = 10;


      last_pageNo = getBoardListCount/rowCntPerPage;
          if( getBoardListCount%rowCntPerPage > 0 ){last_pageNo++;}
      min_pageNo = (selectPageNo - 1)/pageNoCntPerPage * pageNoCntPerPage + 1;
      max_pageNo = min_pageNo + pageNoCntPerPage - 1;
          if( max_pageNo > last_pageNo ) { max_pageNo = last_pageNo; }
  }

  mav.addObject("last_pageNo", last_pageNo);
  mav.addObject("min_pageNo", min_pageNo);
  mav.addObject("max_pageNo", max_pageNo);    
```
> 변수를 0으로 대입해서 선언해놓고 if문 주는것이 좋다.      

> `last_pageNo` 와 `max_pageNo` 는 보정작업 `if 문`이 들어간다.    

> 검색 화면에서 필요한 자바영역의 데이터,    
> `getBoardListCount`   
> `last_pageNo`  
> `min_pageNo`  
> `max_pageNo`  

#

`boardList.jsp` 에서,  

```html
  <!-- 페이지 번호 출력 -->

  <%=(Integer)request.getAttribute("last_pageNo")%> <br>
  <%=(Integer)request.getAttribute("min_pageNo")%> <br>
  <%=(Integer)request.getAttribute("max_pageNo")%> <br>
```
> 값이 올바르게 저장되는지 꺼내어 출력해봄.    
> 컨트롤러에서 `addObject()` 로 키값붙여 저장한 데이터는 `[ModelAndView 객체]`에 저장고, 이것을 꺼내려면 `Httpservletrequest` 객체 메소드 `getAttribute()` 를 사용하여 꺼낸다.  

#













----
### `10:30~`








----
### `11:30~`








----
### `12:30~`








----
### `13:20~`

  - 점심시간.

---
---

## # 오후수업

---
### `14:30~`










---
### `15:30~`









----
### `16:30~`








----
### `17:30~`








----
### `18:30~`
